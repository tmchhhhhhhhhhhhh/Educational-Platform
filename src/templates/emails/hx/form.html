{% if show_form %}

  <div class="max-w-sm mx-auto text-center fade-in">
    {% if message %}
      <p class="mb-4 text-green-600 text-sm font-medium">{{ message }}</p>
    {% endif %}

    <form 
      hx-post="/hx/login/"
      hx-target="this"
      hx-swap="outerHTML"
      method="POST"
      class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100"
    >
      {% csrf_token %}
      
      <div class="mb-4 text-left">
        {{ form.email.label_tag }}
        {{ form.email }}
      </div>

      <button 
        type="submit"
        class="w-full bg-black hover:bg-gray-800 text-white font-medium py-2 px-4 rounded-xl transition-all"
      >
        Войти
      </button>

      {% if message %}
        <p class="mt-3 text-gray-600 text-sm">{{ message }}</p>
      {% endif %}
    </form>
  </div>

{% else %}
  <div hx-get='/hx/logout/' hx-trigger="revealed"></div>
{% endif %}

<style>
.fade-in {
  opacity: 0;
  transform: translateY(10px);
  animation: fadeInUp 0.5s ease forwards;
}
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
input {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  outline: none;
  transition: all 0.2s ease;
}
input:focus {
  border-color: #000;
  box-shadow: 0 0 0 1px #000;
}
</style>
